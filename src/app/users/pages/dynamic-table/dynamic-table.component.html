
<div class="container-dynamic-table">
  <h3 class="title">Lista De Usuarios</h3>

  <p-progressSpinner
    *ngIf="isLoading"
    class="spinner"></p-progressSpinner>

  <p-card
    *ngIf="!isLoading"
    class="card-container"
  >
    <p-table
      [value]="filterByName(users)"
      selectionMode="single"
      [(selection)]="selectedUser"
      [paginator]="true"
      [rows]="7"
      (click)="onRowSelected()"
    >

      <ng-template pTemplate="caption">
        <div class="header-input">
          <span class="p-input-icon-left ml-auto">
              <i class="pi pi-search"></i>
              <input
                pInputText type="text"
                placeholder="Filtrar por nombre"
                [formControl]="name"
              />
          </span>
          <button
            pButton
            class="p-button-outlined ui-button"
            icon="pi pi-filter-slash"
            (click)="name.setValue('')"
          >
          <span class="label-button">Limpiar Filtro</span>
          </button>
        </div>

      </ng-template>

      <ng-template pTemplate="header">
          <tr>
              <th>Id</th>
              <th>Nombre</th>
              <th>Email</th>
              <th>Tel√©fono</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
          <tr [pSelectableRow]="user">
              <td>{{user.id}}</td>
              <td>{{user.name}}</td>
              <td>{{user.email}}</td>
              <td>{{user.phone}}</td>
          </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
