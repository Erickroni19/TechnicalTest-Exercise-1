<div class="px-8">
  <h2 class="flex justify-content-center font-semibold">Tabla Dinámica</h2>

  <p-table
    class="border-round"
    [value]="filterByName(users)"
    selectionMode="single"
    [(selection)]="selectedUser"
    [paginator]="true"
    [rows]="7"
    (onRowSelect)="onRowSelected($event)"
  >

    <ng-template pTemplate="caption">
      <div class="flex">
        <span class="p-input-icon-left ml-auto flex-1">
            <i class="pi pi-search"></i>
            <input
              pInputText type="text"
              placeholder="Buscar por nombre"
              [formControl]="name"
            />
        </span>
        <button
          pButton label="Limpiar Filtro"
          class="p-button-outlined ui-button hover:shadow-3"
          icon="pi pi-filter-slash"
          (click)="name.setValue('')"
        >
        </button>
      </div>

    </ng-template>

    <ng-template pTemplate="header">
        <tr>
            <th>Id</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Teléfono</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
        <tr [pSelectableRow]="user">
            <td>{{user.id}}</td>
            <td>{{user.name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.phone}}</td>
        </tr>
    </ng-template>
  </p-table>
</div>
